FROM golang:1.21-alpine

WORKDIR /app/backend

COPY backend/ ./

RUN go mod download

RUN CGO_ENABLED=1 GOOS=windows go build -o main.exe .

EXPOSE 8080
EXPOSE 3000
EXPOSE 9000

CMD ["go", "run", "main.go"]

RUN apk add --no-cache git
RUN apk add --no-cache curl
RUN apk add --no-cache wget
